-- phpMyAdmin SQL Dump
-- version 4.5.1
-- http://www.phpmyadmin.net
--
-- Хост: 127.0.0.1
-- Время создания: Мар 02 2017 г., 09:32
-- Версия сервера: 10.1.9-MariaDB
-- Версия PHP: 5.5.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `report`
--

-- --------------------------------------------------------

--
-- Структура таблицы `auto`
--

CREATE TABLE `auto` (
  `KO` int(11) NOT NULL,
  `Name` varchar(45) DEFAULT NULL,
  `Type` varchar(45) DEFAULT NULL,
  `Group_KOGroup` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `auto`
--

INSERT INTO `auto` (`KO`, `Name`, `Type`, `Group_KOGroup`) VALUES
(101, 'X101AB777', 'Легковая', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `group`
--

CREATE TABLE `group` (
  `KOGroup` int(11) NOT NULL,
  `GroupName` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `group`
--

INSERT INTO `group` (`KOGroup`, `GroupName`) VALUES
(1, 'Колонна 1');

-- --------------------------------------------------------

--
-- Структура таблицы `message`
--

CREATE TABLE `message` (
  `idMessage` int(11) NOT NULL,
  `Text` varchar(45) DEFAULT NULL,
  `MessageTime` datetime(6) DEFAULT NULL,
  `Trace_idTrace` int(11) NOT NULL,
  `Trace_Auto_KO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `message`
--

INSERT INTO `message` (`idMessage`, `Text`, `MessageTime`, `Trace_idTrace`, `Trace_Auto_KO`) VALUES
(2, 'Sos!', '2017-03-02 01:18:46.000000', 108, 101);

-- --------------------------------------------------------

--
-- Структура таблицы `routes`
--

CREATE TABLE `routes` (
  `idRoutes` int(11) NOT NULL,
  `A` varchar(45) DEFAULT NULL,
  `B` varchar(45) DEFAULT NULL,
  `Auto_KO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Структура таблицы `security`
--

CREATE TABLE `security` (
  `idSecurity` int(11) NOT NULL,
  `FIO_Security` varchar(45) DEFAULT NULL,
  `Login` varchar(45) DEFAULT NULL,
  `Password` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Структура таблицы `trace`
--

CREATE TABLE `trace` (
  `idTrace` int(11) NOT NULL,
  `Auto_KO` int(11) NOT NULL,
  `Coordinate` varchar(45) DEFAULT NULL,
  `Time` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `trace`
--

INSERT INTO `trace` (`idTrace`, `Auto_KO`, `Coordinate`, `Time`) VALUES
(108, 101, '55.8738813,37.6403664', '2017-03-01 02:00:00'),
(109, 101, '55.873880799999995,37.6403672', '2017-03-01 02:00:00'),
(110, 101, '55.8739159,37.640344899999995', '2017-03-01 00:52:41'),
(111, 101, '55.873896599999995,37.640368599999995', '2017-03-01 06:52:46'),
(112, 101, '55.8739062,37.6404006', '2017-03-01 06:55:13'),
(113, 101, '55.873875600000005,37.640368699999996', '2017-03-01 06:55:52'),
(114, 101, '55.873875600000005,37.640368699999996', '2017-03-01 02:55:54'),
(115, 101, '55.8739085,37.6404743', '2017-03-02 00:13:26'),
(116, 101, NULL, '2017-03-02 00:13:40'),
(117, 101, '55.8738946,37.640417899999996', '2017-03-02 01:18:44'),
(118, 101, '55.8738865,37.6403995', '2017-03-02 01:37:25'),
(119, 101, '55.8739,37.6404467', '2017-03-02 01:54:49'),
(120, 101, '55.8739,37.6404467', '2017-03-02 01:55:01'),
(121, 101, '55.873890499999995,37.640425799999996', '2017-03-02 01:55:17'),
(122, 101, '55.873890599999996,37.6404257', '2017-03-02 01:56:40'),
(123, 101, '55.873890599999996,37.6404257', '2017-03-02 01:56:40'),
(124, 101, '55.873890599999996,37.6404257', '2017-03-02 01:56:42'),
(125, 101, '55.873890599999996,37.6404257', '2017-03-02 01:56:44'),
(126, 101, '55.8739072,37.6404214', '2017-03-02 01:57:34'),
(127, 101, '55.8739072,37.6404214', '2017-03-02 01:57:34'),
(128, 101, '55.8739072,37.6404214', '2017-03-02 01:57:34'),
(129, 101, '55.8739072,37.6404214', '2017-03-02 01:57:34'),
(130, 101, '55.8739072,37.6404214', '2017-03-02 01:57:34'),
(131, 101, '55.873914,37.64044440000001', '2017-03-02 01:57:36'),
(132, 101, '55.873914,37.64044440000001', '2017-03-02 01:57:37'),
(143, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(144, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(145, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(146, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(147, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(148, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(149, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(150, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:25'),
(151, 101, '55.873919400000005,37.6404376', '2017-03-02 02:00:26'),
(152, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(153, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(154, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(155, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(156, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(157, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(158, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(159, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(160, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(161, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(162, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(163, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(164, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(165, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(166, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:01'),
(167, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(168, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(169, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(170, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(171, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(172, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(173, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(174, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(175, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(176, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(177, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(178, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(179, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(180, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(181, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(182, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(183, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(184, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(185, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(186, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(187, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(188, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(189, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(190, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(191, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(192, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(193, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(194, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(195, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(196, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(197, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(198, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(199, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(200, 101, '55.873914,37.64044440000001', '2017-03-02 02:02:02'),
(201, 101, '55.873919400000005,37.6404376', '2017-03-02 02:02:03'),
(202, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(203, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(204, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(205, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(206, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(207, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(208, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:36'),
(209, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(210, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(211, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(212, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(213, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(214, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(215, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(216, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(217, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(218, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(219, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(220, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:37'),
(221, 101, '55.873917000000006,37.640439', '2017-03-02 02:02:38'),
(222, 101, '55.873919400000005,37.6404376', '2017-03-02 02:02:47'),
(223, 101, '55.873919400000005,37.6404376', '2017-03-02 02:02:48'),
(224, 101, '55.8739144,37.6404505', '2017-03-02 02:03:56'),
(225, 101, '55.873917000000006,37.640439', '2017-03-02 02:03:57'),
(226, 101, '55.873919400000005,37.6404376', '2017-03-02 02:04:16'),
(227, 101, '55.873914,37.64044440000001', '2017-03-02 02:04:18'),
(228, 101, '55.8739196,37.640437899999995', '2017-03-02 02:05:18'),
(229, 101, '55.873917000000006,37.640439', '2017-03-02 02:06:24'),
(230, 101, '55.873917000000006,37.640439', '2017-03-02 02:06:49'),
(231, 101, '55.873918200000006,37.640373', '2017-03-02 02:08:12'),
(232, 101, '55.873918200000006,37.640373', '2017-03-02 02:08:16'),
(233, 101, '55.8739208,37.640357099999996', '2017-03-02 02:09:11'),
(234, 101, '55.87389530000001,37.6403958', '2017-03-02 10:29:27'),
(235, 101, '55.87389530000001,37.6403958', '2017-03-02 10:29:27'),
(236, 101, '55.87389530000001,37.6403958', '2017-03-02 10:29:27'),
(237, 101, '55.87389530000001,37.6403958', '2017-03-02 10:29:27'),
(238, 101, '55.87389530000001,37.6403958', '2017-03-02 10:29:27');

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `idUsers` int(11) NOT NULL,
  `UsersFIO` varchar(45) DEFAULT NULL,
  `UsersType` varchar(45) DEFAULT NULL,
  `UsersLogin` varchar(45) DEFAULT NULL,
  `UsersPassword` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `auto`
--
ALTER TABLE `auto`
  ADD PRIMARY KEY (`KO`,`Group_KOGroup`),
  ADD KEY `fk_Auto_Group1_idx` (`Group_KOGroup`);

--
-- Индексы таблицы `group`
--
ALTER TABLE `group`
  ADD PRIMARY KEY (`KOGroup`);

--
-- Индексы таблицы `message`
--
ALTER TABLE `message`
  ADD PRIMARY KEY (`idMessage`,`Trace_idTrace`,`Trace_Auto_KO`),
  ADD KEY `fk_Message_Trace1_idx` (`Trace_idTrace`,`Trace_Auto_KO`);

--
-- Индексы таблицы `routes`
--
ALTER TABLE `routes`
  ADD PRIMARY KEY (`idRoutes`,`Auto_KO`),
  ADD KEY `fk_Routes_Auto1_idx` (`Auto_KO`);

--
-- Индексы таблицы `security`
--
ALTER TABLE `security`
  ADD PRIMARY KEY (`idSecurity`);

--
-- Индексы таблицы `trace`
--
ALTER TABLE `trace`
  ADD PRIMARY KEY (`idTrace`,`Auto_KO`),
  ADD KEY `fk_Trace_Auto_idx` (`Auto_KO`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`idUsers`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `trace`
--
ALTER TABLE `trace`
  MODIFY `idTrace` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=239;
--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `auto`
--
ALTER TABLE `auto`
  ADD CONSTRAINT `fk_Auto_Group1` FOREIGN KEY (`Group_KOGroup`) REFERENCES `group` (`KOGroup`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `message`
--
ALTER TABLE `message`
  ADD CONSTRAINT `fk_Message_Trace1` FOREIGN KEY (`Trace_idTrace`,`Trace_Auto_KO`) REFERENCES `trace` (`idTrace`, `Auto_KO`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `routes`
--
ALTER TABLE `routes`
  ADD CONSTRAINT `fk_Routes_Auto1` FOREIGN KEY (`Auto_KO`) REFERENCES `auto` (`KO`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `trace`
--
ALTER TABLE `trace`
  ADD CONSTRAINT `fk_Trace_Auto` FOREIGN KEY (`Auto_KO`) REFERENCES `auto` (`KO`) ON DELETE NO ACTION ON UPDATE NO ACTION;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
